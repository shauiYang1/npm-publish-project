(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i["vue-extends-element-ui"]={},i.Vue))})(this,function(i,e){"use strict";const D="",g=(t,a)=>{const o=t.__vccOpts||t;for(const[d,r]of a)o[d]=r;return o},y={name:"form-ui",props:{formData:{type:Array,default:()=>[]},labelWidth:{type:[String,Number],default:"120px"},gutter:{type:Number,default:0},rules:{type:Object,default:()=>{}},justify:{type:String,default:"start"}},data(){return{form:{}}},beforeMount(){this.initFormModel()},computed:{},methods:{initFormModel(){this.formData.forEach(t=>{t.key==="checkboxGroup"&&(this.$set?this.$set(this.form,t.key,[]):this.form[t.key]=[])})},onSubmit(){console.log("onSubmit",this.form)}}};function w(t,a,o,d,r,s){const h=e.resolveComponent("el-form-item"),c=e.resolveComponent("el-col"),f=e.resolveComponent("el-button"),m=e.resolveComponent("el-row"),n=e.resolveComponent("el-form");return e.openBlock(),e.createBlock(n,{class:"el-form-ui",model:r.form,"label-width":o.labelWidth,rules:o.rules,ref:"FormRef",inline:!0},{default:e.withCtx(()=>[e.createVNode(m,{gutter:o.gutter,type:"flex",justify:o.justify,class:"flex-wrap"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.formData,l=>(e.openBlock(),e.createBlock(c,{span:l.span,key:l.key},{default:e.withCtx(()=>[e.createVNode(h,{label:l.label,prop:l.name,style:e.normalizeStyle({"--labelWidth":o.labelWidth})},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.component),e.mergeProps({modelValue:r.form[l.name],"onUpdate:modelValue":p=>r.form[l.name]=p},{...t.$attrs,...l.props}),{default:e.withCtx(()=>[l.childComponent?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(l.options,p=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.childComponent),e.mergeProps({key:p.key},{...p}),null,16))),128)):e.createCommentVNode("",!0)]),_:2},1040,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["label","prop","style"])]),_:2},1032,["span"]))),128)),e.renderSlot(t.$slots,"option",{},()=>[e.createVNode(c,{span:1,offset:1},{default:e.withCtx(()=>[e.createVNode(h,null,{default:e.withCtx(()=>[e.createVNode(f,{type:"primary",onClick:s.onSubmit},{default:e.withCtx(()=>[e.createTextVNode("查询")]),_:1},8,["onClick"])]),_:1})]),_:1})],!0)]),_:3},8,["gutter","justify"])]),_:3},8,["model","label-width","rules"])}const _=g(y,[["render",w],["__scopeId","data-v-10e3f367"]]),F="",C=(t,a=300)=>{let o;return function(){o&&clearTimeout(o),o=setTimeout(()=>{t.apply(this,arguments)},a)}},k={name:"table-ui",props:{columns:{type:Array,default:()=>[]},fetchPage:Function,rowClassName:{type:Function,default:()=>{}},params:{type:Object,default:()=>{}}},components:{OptionContent:{props:{option:Object,row:Object},render(t){return this.option.render&&this.option.render(t,this.row)}}},computed:{tableHeight(){return this.total>20?"calc(100% - 0.6rem)":"100%"}},data(){return{debounceFetchTableData:C(this.fetchTableData),tableData:[],total:0,loading:!1,page:{pageSize:20,page:1}}},watch:{page:{handler(){this.debounceFetchTableData()},deep:!0},params:{handler(){this.page={pageSize:20,page:1}},deep:!0}},mounted(){this.debounceFetchTableData()},methods:{fetchTableData(t={...this.params,...this.page}){this.loading=!0,this.fetchPage&&this.fetchPage(t).then(a=>{this.total=a.totalCount,this.tableData=a.list,this.loading=!1})},currentChange(t){this.page.page=t},sizeChange(t){this.page.pageSize=t},indexMethod(t){const a=(this.page.page-1)*this.page.pageSize,o=t+1;return a+o},refresh(t=!1){t?this.page={pageSize:20,page:1}:this.page.page=this.tableData.length===1&&this.page.page!==1?this.page.page-1:this.page.page,t?this.debounceFetchTableData(this.page):this.debounceFetchTableData()},format(t,a,o,d){return["",null,void 0].includes(o)?"--":o}}},x={class:"table-ui"},B={key:0,class:"bottom-pagination"};function S(t,a,o,d,r,s){const h=e.resolveComponent("OptionContent"),c=e.resolveComponent("el-table-column"),f=e.resolveComponent("el-table"),m=e.resolveComponent("el-pagination");return e.openBlock(),e.createElementBlock("div",x,[e.createVNode(f,e.mergeProps({ref:"TableRef"},t.$attrs,{data:r.tableData,loading:r.loading,height:s.tableHeight,"row-class-name":o.rowClassName,"tooltip-effect":"light tit-tip"}),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.columns,(n,l)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[n.render?(e.openBlock(),e.createBlock(c,{key:n.dataIndex,prop:n.dataIndex,label:n.label,type:n.type,width:n.width,fixed:n.fixed,"min-width":n.minWidth},{default:e.withCtx(p=>[n.render?(e.openBlock(),e.createBlock(h,{key:0,option:n,row:p.row},null,8,["option","row"])):e.createCommentVNode("",!0)]),_:2},1032,["prop","label","type","width","fixed","min-width"])):(e.openBlock(),e.createBlock(c,{key:n.dataIndex+l,prop:n.dataIndex,label:n.label,type:n.type,width:n.width,index:s.indexMethod,formatter:n.format||s.format,fixed:n.fixed,"min-width":n.minWidth,"show-overflow-tooltip":n["show-overflow-tooltip"]||!1},null,8,["prop","label","type","width","index","formatter","fixed","min-width","show-overflow-tooltip"]))],64))),256))]),_:1},16,["data","loading","height","row-class-name"]),r.total>20?(e.openBlock(),e.createElementBlock("div",B,[e.createVNode(m,{"current-page":r.page.page,"page-sizes":[20,40,80,100],"page-size":r.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:r.total,onSizeChange:s.sizeChange,onCurrentChange:s.currentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])):e.createCommentVNode("",!0)])}const b=g(k,[["render",S],["__scopeId","data-v-e884afc9"]]),T=[_,b],u=t=>{T.forEach(a=>{t.component(a.name,a)})};typeof window<"u"&&window.Vue&&u(window.Vue);const V={install:u};i.Form=_,i.Table=b,i.default=V,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
